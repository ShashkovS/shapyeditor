function add32(a,b){return a+b&4294967295}let i;let MD5={ff:function(a,b,c,d,k,s,t){let q=b&c|~b&d;let z=add32(add32(a,q),add32(k,t));return add32(z<<s|z>>>32-s,b)},gg:function(a,b,c,d,k,s,t){let q=b&d|c&~d;let z=add32(add32(a,q),add32(k,t));return add32(z<<s|z>>>32-s,b)},hh:function(a,b,c,d,k,s,t){let q=b^c^d;let z=add32(add32(a,q),add32(k,t));return add32(z<<s|z>>>32-s,b)},ii:function(a,b,c,d,k,s,t){let q=c^(b|~d);let z=add32(add32(a,q),add32(k,t));return add32(z<<s|z>>>32-s,b)},mix:function(blocks,vector){let a=vector[0],b=vector[1],c=vector[2],d=vector[3];let ff=MD5.ff,gg=MD5.gg,hh=MD5.hh,ii=MD5.ii;a=ff(a,b,c,d,blocks[0]||0,7,-680876936);d=ff(d,a,b,c,blocks[1]||0,12,-389564586);c=ff(c,d,a,b,blocks[2]||0,17,606105819);b=ff(b,c,d,a,blocks[3]||0,22,-1044525330);a=ff(a,b,c,d,blocks[4]||0,7,-176418897);d=ff(d,a,b,c,blocks[5]||0,12,1200080426);c=ff(c,d,a,b,blocks[6]||0,17,-1473231341);b=ff(b,c,d,a,blocks[7]||0,22,-45705983);a=ff(a,b,c,d,blocks[8]||0,7,1770035416);d=ff(d,a,b,c,blocks[9]||0,12,-1958414417);c=ff(c,d,a,b,blocks[10]||0,17,-42063);b=ff(b,c,d,a,blocks[11]||0,22,-1990404162);a=ff(a,b,c,d,blocks[12]||0,7,1804603682);d=ff(d,a,b,c,blocks[13]||0,12,-40341101);c=ff(c,d,a,b,blocks[14]||0,17,-1502002290);b=ff(b,c,d,a,blocks[15]||0,22,1236535329);a=gg(a,b,c,d,blocks[1]||0,5,-165796510);d=gg(d,a,b,c,blocks[6]||0,9,-1069501632);c=gg(c,d,a,b,blocks[11]||0,14,643717713);b=gg(b,c,d,a,blocks[0]||0,20,-373897302);a=gg(a,b,c,d,blocks[5]||0,5,-701558691);d=gg(d,a,b,c,blocks[10]||0,9,38016083);c=gg(c,d,a,b,blocks[15]||0,14,-660478335);b=gg(b,c,d,a,blocks[4]||0,20,-405537848);a=gg(a,b,c,d,blocks[9]||0,5,568446438);d=gg(d,a,b,c,blocks[14]||0,9,-1019803690);c=gg(c,d,a,b,blocks[3]||0,14,-187363961);b=gg(b,c,d,a,blocks[8]||0,20,1163531501);a=gg(a,b,c,d,blocks[13]||0,5,-1444681467);d=gg(d,a,b,c,blocks[2]||0,9,-51403784);c=gg(c,d,a,b,blocks[7]||0,14,1735328473);b=gg(b,c,d,a,blocks[12]||0,20,-1926607734);a=hh(a,b,c,d,blocks[5]||0,4,-378558);d=hh(d,a,b,c,blocks[8]||0,11,-2022574463);c=hh(c,d,a,b,blocks[11]||0,16,1839030562);b=hh(b,c,d,a,blocks[14]||0,23,-35309556);a=hh(a,b,c,d,blocks[1]||0,4,-1530992060);d=hh(d,a,b,c,blocks[4]||0,11,1272893353);c=hh(c,d,a,b,blocks[7]||0,16,-155497632);b=hh(b,c,d,a,blocks[10]||0,23,-1094730640);a=hh(a,b,c,d,blocks[13]||0,4,681279174);d=hh(d,a,b,c,blocks[0]||0,11,-358537222);c=hh(c,d,a,b,blocks[3]||0,16,-722521979);b=hh(b,c,d,a,blocks[6]||0,23,76029189);a=hh(a,b,c,d,blocks[9]||0,4,-640364487);d=hh(d,a,b,c,blocks[12]||0,11,-421815835);c=hh(c,d,a,b,blocks[15]||0,16,530742520);b=hh(b,c,d,a,blocks[2]||0,23,-995338651);a=ii(a,b,c,d,blocks[0]||0,6,-198630844);d=ii(d,a,b,c,blocks[7]||0,10,1126891415);c=ii(c,d,a,b,blocks[14]||0,15,-1416354905);b=ii(b,c,d,a,blocks[5]||0,21,-57434055);a=ii(a,b,c,d,blocks[12]||0,6,1700485571);d=ii(d,a,b,c,blocks[3]||0,10,-1894986606);c=ii(c,d,a,b,blocks[10]||0,15,-1051523);b=ii(b,c,d,a,blocks[1]||0,21,-2054922799);a=ii(a,b,c,d,blocks[8]||0,6,1873313359);d=ii(d,a,b,c,blocks[15]||0,10,-30611744);c=ii(c,d,a,b,blocks[6]||0,15,-1560198380);b=ii(b,c,d,a,blocks[13]||0,21,1309151649);a=ii(a,b,c,d,blocks[4]||0,6,-145523070);d=ii(d,a,b,c,blocks[11]||0,10,-1120210379);c=ii(c,d,a,b,blocks[2]||0,15,718787259);b=ii(b,c,d,a,blocks[9]||0,21,-343485551);vector[0]=add32(a,vector[0]);vector[1]=add32(b,vector[1]);vector[2]=add32(c,vector[2]);vector[3]=add32(d,vector[3])},load:function(buffer,input,start,howmany,support_unicode){let values=input.substr(start,howmany),i=values.length;let chars=buffer,char_val,q=0;let temp,lower;for(q=0;temp=-1,q<i;q++){char_val=values.charCodeAt(q)&4294967295;if(support_unicode&&(char_val&63488)===55296){temp=values.charCodeAt(++q);if((temp&64512)==56320){char_val=((char_val&1023)<<10)+(temp&1023)+65536;temp=-1}else{q--}chars.push(char_val)}else if(support_unicode&&char_val>65535){chars.push(240|char_val>>18,128|char_val>>12&63,128|char_val>>6&63,128|char_val&63)}else if(support_unicode&&char_val>2048){chars.push(char_val>>12|224,char_val>>6&63|128,char_val&63|128)}else if(support_unicode&&char_val>127){chars.push(char_val>>6|192,char_val&63|128)}else{let z=char_val;do{chars.push(z&255)}while(z=z>>>8)}}return buffer},hash:function(input){let vector=[1732584193,4023233417,2562383102,271733878];let readsize=512;let position=0;let buffer=[];let chunk,i,blocks,last=0,total=0;do{MD5.load(buffer,input,position,readsize,true);position=position+readsize;rinse:{chunk=buffer.splice(0,64);total=total+chunk.length;last=last||!last&&chunk.length<64;blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<64;i+=4){blocks[i>>2]=chunk[i]|chunk[i+1]<<8|chunk[i+2]<<16|chunk[i+3]<<24}if(last){i=chunk.length;blocks[i>>2]|=128<<(i%4<<3);if(i<56){total=total*8;blocks[14]=total&4294967295;blocks[15]=Math.floor(total/4294967295);last=0}}MD5.mix(blocks,vector);if(buffer.length>64)break rinse}}while(buffer.length);if(last){blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];total=total*8;blocks[14]=total&4294967295;blocks[15]=Math.floor(total/4294967295);MD5.mix(blocks,vector)}return vector},hex:function(hash){let result=[],i,j,k,l,m;for(i=0;i<4;i++){j=hash[i]&255;k=(hash[i]&65280)>>8;l=(hash[i]&16711680)>>16;m=hash[i]>>>24;result.push(j,k,l,m)}i=result.length;while(i--)result[i]=(result[i]>15?"":"0")+result[i].toString(16);return result.join("")},test:function(){if(console&&console.assert){console.assert("5d41402abc4b2a76b9719d911017c592"==MD5.hex(MD5.hash("hello")),'FAIL "hello"');console.assert("e13615cbda6d66ddc64dc7852e35ac10"==MD5.hex(MD5.hash("ζωτικότητα")),'FAIL "ζωτικότητα"')}}};export const md5=text=>MD5.hex(MD5.hash(text));